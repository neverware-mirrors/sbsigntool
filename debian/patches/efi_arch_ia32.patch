Description: Fix FTBFS on i386 by defining EFI_ARCH to ia32 instead of uname.
Author: Adam Conrad <adconrad@ubuntu.com>
Forwarded: no

--- sbsigntool-0.4.orig/configure.ac
+++ sbsigntool-0.4/configure.ac
@@ -65,6 +65,11 @@ PKG_CHECK_MODULES(uuid, uuid,
 
 dnl gnu-efi headers require extra include dirs
 EFI_ARCH=$(uname -m)
+case $EFI_ARCH in
+	i*86)
+		EFI_ARCH="ia32"
+		;;
+esac
 EFI_CPPFLAGS="-I/usr/include/efi -I/usr/include/efi/$EFI_ARCH \
  -DEFI_FUNCTION_WRAPPER"
 CPPFLAGS_save="$CPPFLAGS"
--- sbsigntool-0.4.orig/configure
+++ sbsigntool-0.4/configure
@@ -5480,6 +5480,11 @@ $as_echo "yes" >&6; }
 fi
 
 EFI_ARCH=$(uname -m)
+case $EFI_ARCH in
+	i*86)
+		EFI_ARCH="ia32"
+		;;
+esac
 EFI_CPPFLAGS="-I/usr/include/efi -I/usr/include/efi/$EFI_ARCH \
  -DEFI_FUNCTION_WRAPPER"
 CPPFLAGS_save="$CPPFLAGS"
